{{- $keywords := (slice) -}}
{{- $curPage := . -}}
{{- if not .IsHome -}}
    {{- range $plural, $terms := .Site.Taxonomies -}}
        {{- range $param, $values := $curPage.Params -}}
            {{- if eq $param $plural -}}
                {{- $keywords = $keywords | append $values -}}
            {{- end -}}
        {{- end -}}
    {{- end -}}
{{- else -}}
    {{- range $plural, $terms := .Site.Taxonomies -}}
        {{- range $term, $termPage := $terms -}}
            {{- $keywords = $keywords | append $term -}}
        {{- end -}}
    {{- end -}}
{{- end -}}
{{- return $keywords -}}